<ion-header class="navbar-header">
  <ion-toolbar class="navbar-toolbar">
    <div class="navbar-container">
      <div class="navbar-content">
        
        <!-- Left Side: Logo + Navigation -->
        <div class="left-section">
          <!-- Logo Section -->
          <div class="logo-section" (click)="navigateToHome()">
            <div class="logo-container">
              <ion-img 
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQ1zgZnxIfFwUNYBcDxTaoorL1Oj0QaozmZw&s" 
                alt="Barbería Premium" 
                class="logo-image">
              </ion-img>
              <div class="logo-text">
                BarberPro
              </div>
            </div>
          </div>

          <!-- Navigation Buttons -->
          <div class="nav-buttons">
            <!-- Botones para clientes o usuarios no logueados -->
            @if (!isBarbero) {
              <ion-button 
                fill="clear" 
                class="nav-button services-button" 
                (click)="navigateToServices()">
                <ion-icon name="briefcase-outline" slot="start"></ion-icon>
                <span class="button-text">Servicios</span>
              </ion-button>
              
              <!-- Botón Mis Citas para clientes logueados que tienen citas -->
              @if (clienteTieneCitas) {
                <ion-button 
                  fill="clear" 
                  class="nav-button services-button" 
                  (click)="navigateToMisCitas()">
                  <ion-icon name="calendar-outline" slot="start"></ion-icon>
                  <span class="button-text">Mis Citas</span>
                </ion-button>
                
                <!-- Botón Calificar Barbero para clientes que han tenido servicios -->
                <ion-button 
                  fill="clear" 
                  class="nav-button services-button" 
                  (click)="navigateToQualifyBarber()">
                  <ion-icon name="star-outline" slot="start"></ion-icon>
                  <span class="button-text">Calificar Barbero</span>
                </ion-button>
              }
            }
            
            <!-- Botones específicos para barberos -->
            @if (isBarbero) {
              <ion-button 
                fill="clear" 
                class="nav-button" 
                (click)="navigateToMisServicios()">
                <ion-icon name="cut-outline" slot="start"></ion-icon>
                <span class="button-text">Mis Servicios</span>
              </ion-button>
              
              <ion-button 
                fill="clear" 
                class="nav-button" 
                (click)="navigateToCustomServices()">
                <ion-icon name="calendar-outline" slot="start"></ion-icon>
                <span class="button-text">Gestionar Citas</span>
              </ion-button>
            }
          </div>
        </div>

        <!-- Right Side: Action Buttons -->
        <div class="action-buttons">
          <!-- Botones cuando NO está logueado -->
          @if (!isLoggedIn) {
            <ion-button 
              fill="clear" 
              class="login-button"
              (click)="navigateToLogin()">
              <ion-icon name="person-outline" slot="start"></ion-icon>
              <span class="button-text">Iniciar Sesión</span>
            </ion-button>
            
            <ion-button 
              class="register-button"
              (click)="navigateToRegister()">
              <ion-icon name="person-add-outline" slot="start"></ion-icon>
              <span class="button-text">Registrarse</span>
            </ion-button>
          }

          <!-- Botones cuando SÍ está logueado -->
          @if (isLoggedIn) {
            <div class="user-welcome">
              <span class="welcome-text">Hola, {{userDisplayName}}</span>
            </div>
            
            <ion-button 
              fill="outline" 
              class="logout-button"
              (click)="logout()">
              <ion-icon name="log-out-outline" slot="start"></ion-icon>
              <span class="button-text">Cerrar Sesión</span>
            </ion-button>
          }
        </div>

      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-toast
  [isOpen]="showToast"
  [message]="toastMessage"
  duration="2000"
  (didDismiss)="showToast = false">
</ion-toast>
